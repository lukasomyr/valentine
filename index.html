<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Für dich ❤️</title>

  <!-- Schöne Schrift -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --text: rgba(40,20,35,.92);
      --muted: rgba(40,20,35,.68);
      --accent: #ff4d7d;
      --accent2:#ff9bb6;
      --card: rgba(255,255,255,.70);
      --card2: rgba(255,255,255,.85);
      --shadow: 0 18px 60px rgba(0,0,0,.18);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

      /* Heller, weiß/rosa Background (wie Screenshot 2) */
      background:
        radial-gradient(900px 600px at 25% 20%, rgba(255,77,125,.20), transparent 60%),
        radial-gradient(900px 700px at 75% 40%, rgba(255,155,182,.18), transparent 60%),
        linear-gradient(180deg, #fff7fb 0%, #ffe6f0 45%, #fff2f8 100%);

      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow-x:hidden;
    }

    .wrap{ width:min(920px, 100%); position:relative; }

    .card{
      background: linear-gradient(180deg, var(--card2), var(--card));
      border:1px solid rgba(255,77,125,.18);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding: 40px 26px;
      text-align:center;
      backdrop-filter: blur(10px);
      position:relative;
      overflow:hidden;
    }

    .sparkle{
      position:absolute; inset:-2px;
      background:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.9), transparent 60%),
        radial-gradient(2px 2px at 70% 50%, rgba(255,255,255,.75), transparent 60%),
        radial-gradient(2px 2px at 40% 80%, rgba(255,255,255,.85), transparent 60%),
        radial-gradient(3px 3px at 90% 20%, rgba(255,255,255,.7), transparent 60%);
      opacity:.35;
      pointer-events:none;
      animation: float 8s ease-in-out infinite;
    }
    @keyframes float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }

    h1{
      margin:0 0 16px;
      font-family:"Great Vibes", cursive;
      font-size: clamp(46px, 6vw, 88px);
      letter-spacing:.5px;
      color: #7a2746;
      text-shadow: 0 10px 40px rgba(255,77,125,.20);
    }

    .btnRow{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 14px;
    }

    button{
      border:0;
      cursor:pointer;
      padding: 12px 16px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 14px;
      transition: transform .12s ease, opacity .12s ease;
    }
    button:active{transform: scale(.98)}
    .primary{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #ffffff;
      box-shadow: 0 12px 35px rgba(255,77,125,.28);
    }
    .ghost{
      background: rgba(255,255,255,.55);
      color: var(--text);
      border: 1px solid rgba(255,77,125,.18);
    }

    /* Overlay */
    .overlay{
      position:fixed; inset:0;
      background: rgba(40,10,25,.30);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 50;
    }
    .overlay.open{display:flex}

    /* Großer, "covernder" Lightbox-Container, damit man den Start-Kasten dahinter nicht mehr sieht */
    .lightbox{
      width: min(980px, 96vw);
      height: min(700px, 86vh);
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(255,77,125,.22);
      border-radius: 26px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      padding: 24px 24px 18px;
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      position:relative;
    }

    .momentsTitle{
      font-family:"Great Vibes", cursive;
      font-size: clamp(44px, 5vw, 64px);
      color: #7a2746;
      margin: 6px 0 14px;
      text-shadow: 0 10px 40px rgba(255,77,125,.18);
    }

    /* Foto-Stack Area */
    .stackStage{
      position:relative;
      width: min(640px, 88vw);
      height: min(520px, 58vh);
      display:flex;
      align-items:center;
      justify-content:center;
      margin-top: 6px;
    }

    /* Die "Stapel" Karten im Hintergrund */
    .stackCard{
      position:absolute;
      width: 100%;
      height: 100%;
      border-radius: 22px;
      background: rgba(255,255,255,.80);
      border: 1px solid rgba(255,77,125,.16);
      box-shadow: 0 18px 50px rgba(0,0,0,.10);
      transform-origin: 50% 60%;
      pointer-events:none;
    }
    .stackCard.back1{
      transform: translate(14px, 10px) rotate(2.8deg);
      opacity: .70;
      filter: blur(.2px);
    }
    .stackCard.back2{
      transform: translate(-16px, 12px) rotate(-2.2deg);
      opacity: .58;
      filter: blur(.35px);
    }
    .stackCard.back3{
      transform: translate(10px, -6px) rotate(1.2deg);
      opacity: .40;
      filter: blur(.45px);
    }

    /* Vorderste Foto-Karte */
    .photoFrame{
      position:relative;
      width: 100%;
      height: 100%;
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(255,77,125,.20);
      background: rgba(255,255,255,.55);
      box-shadow: 0 22px 60px rgba(0,0,0,.14);
      transform-origin: 50% 60%;
      transition: transform .22s ease;
    }

    .photoFrame img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
    }

    /* Pfeile unten */
    .nav{
      display:flex;
      gap: 14px;
      justify-content:center;
      margin-top: 18px;
    }

    .navBtn{
      background: rgba(255,255,255,.65);
      color: var(--text);
      border: 1px solid rgba(255,77,125,.22);
      border-radius: 999px;
      padding: 10px 16px;
      font-weight: 800;
      cursor:pointer;
      box-shadow: 0 10px 26px rgba(0,0,0,.06);
    }

    .navBtn:disabled{
      opacity: .45;
      cursor: not-allowed;
    }

    /* Brief button */
    #revealBtn{
      margin-top: 14px;
    }

    /* ---------- BRIEF OVERLAY ---------- */
    .letterOverlay{
      position:fixed;
      inset:0;
      background: rgba(40,10,25,.30);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 60; /* über dem Foto-Overlay */
    }
    .letterOverlay.open{display:flex}

    /* ✅ 20% breiter */
    .letterBox{
      width: min(1080px, 96vw); /* vorher min(900px, 94vw) */
      min-height: min(620px, 84vh);
      background: rgba(255,255,255,.94);
      border: 1px solid rgba(255,77,125,.22);
      border-radius: 26px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      padding: 34px 34px 28px;
      position:relative;
      overflow:hidden;
    }

    /* ✅ Schrift etwas kleiner */
    .romanticLetter{
      font-family:"Great Vibes", cursive;
      font-size: clamp(28px, 2.7vw, 40px); /* vorher clamp(34px, 3.2vw, 46px) */
      color: #7a2746;
      line-height: 1.25;
      text-shadow: 0 10px 40px rgba(255,77,125,.12);
      white-space: pre-wrap;
    }

    /* Mehr Herzen, rot */
    .heart{
      position:fixed;
      bottom:-40px;
      font-size: 18px;
      opacity:.65;
      animation: drift linear infinite;
      pointer-events:none;
      filter: drop-shadow(0 8px 18px rgba(255,77,125,.25));
      color: #ff2f5f;
      z-index: 1;
    }
    @keyframes drift{
      0%{transform: translateY(0) translateX(0) rotate(0deg); opacity:0}
      10%{opacity:.7}
      100%{transform: translateY(-120vh) translateX(40px) rotate(18deg); opacity:0}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="sparkle"></div>

      <h1>Happy Valentine’s</h1>

      <div class="btnRow">
        <button class="primary" id="openBtn">Klick hier ❤️</button>
      </div>
    </div>
  </div>

  <!-- Overlay (Fotos) -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="lightbox" role="dialog" aria-modal="true" aria-label="Fotos">
      <div class="momentsTitle">Ein paar Momente</div>

      <div class="stackStage">
        <!-- Hintergrund-"Stapel" -->
        <div class="stackCard back3" aria-hidden="true"></div>
        <div class="stackCard back2" aria-hidden="true"></div>
        <div class="stackCard back1" aria-hidden="true"></div>

        <!-- Vorderes Bild -->
        <div class="photoFrame" id="photoFrame">
          <img id="photo" alt="Foto" />
        </div>
      </div>

      <div class="nav">
        <button class="navBtn" id="prevBtn" aria-label="Vorheriges Bild">←</button>
        <button class="navBtn" id="nextBtn" aria-label="Nächstes Bild">→</button>
      </div>

      <!-- erscheint erst, wenn alle Bilder gesehen wurden -->
      <button class="primary" id="revealBtn" style="display:none;">Klick hier ✉️</button>
    </div>
  </div>

  <!-- Overlay (Brief) -->
  <div class="letterOverlay" id="letterOverlay" aria-hidden="true">
    <div class="letterBox" role="dialog" aria-modal="true" aria-label="Brief">
      <!-- HIER TEXT AUSTAUSCHEN -->
      <div class="romanticLetter" id="romanticLetter">
Liebe Mimi,

Leider können wir heute nicht beinander sein. 
Ich hoffe, du hast trotzdem einen wunderschönen Valentinstag.

Ich liebe dich so sehr und bin unendlich dankbar, dass ich dich habe.

Ich vermisse dich jeden Tag und freue mich so unfassbar darauf wenn ich dich endlich wiedersehen kann.

I love you
Dein Lukas
      </div>
    </div>
  </div>

  <script>
    // Bilder: 1.jpg bis 12.jpg
    const photos = Array.from({ length: 12 }, (_, i) => ({
      src: `images/${i + 1}.jpg`
    }));

    const overlay = document.getElementById("overlay");
    const openBtn = document.getElementById("openBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const revealBtn = document.getElementById("revealBtn");

    const photoEl = document.getElementById("photo");
    const photoFrame = document.getElementById("photoFrame");

    const letterOverlay = document.getElementById("letterOverlay");

    let idx = 0;
    let seen = new Set(); // merkt sich, welche Bilder wirklich angesehen wurden

    function render(){
      const item = photos[idx];
      photoEl.src = item.src;

      // "stapel" rotation leicht variieren
      const tilts = [-2.4, -1.2, 0.8, 1.6, 2.2];
      const tilt = tilts[idx % tilts.length];
      photoFrame.style.transform = `rotate(${tilt}deg)`;

      // als gesehen markieren
      seen.add(idx);

      // Pfeile an Rändern deaktivieren
      prevBtn.disabled = (idx === 0);
      nextBtn.disabled = (idx === photos.length - 1);

      // Brief erst, wenn ALLE Bilder gesehen wurden
      const allSeen = (seen.size === photos.length);
      revealBtn.style.display = allSeen ? "inline-block" : "none";
    }

    function openOverlay(){
      overlay.classList.add("open");
      overlay.setAttribute("aria-hidden", "false");
      idx = 0;
      seen = new Set();
      render();
    }

    function closeOverlay(){
      overlay.classList.remove("open");
      overlay.setAttribute("aria-hidden", "true");
    }

    function openLetter(){
      // Foto-Overlay aus, Brief-Overlay an
      closeOverlay();
      letterOverlay.classList.add("open");
      letterOverlay.setAttribute("aria-hidden", "false");
    }

    function closeLetterToStart(){
      // Brief-Overlay zu und zurück zum Startscreen
      letterOverlay.classList.remove("open");
      letterOverlay.setAttribute("aria-hidden", "true");
    }

    openBtn.addEventListener("click", openOverlay);

    prevBtn.addEventListener("click", () => {
      if (idx > 0) { idx -= 1; render(); }
    });

    nextBtn.addEventListener("click", () => {
      if (idx < photos.length - 1) { idx += 1; render(); }
    });

    revealBtn.addEventListener("click", openLetter);

    // Klick außerhalb (auf dunklen Hintergrund) schließt Foto-Overlay
    overlay.addEventListener("click", (e) => {
      if(e.target === overlay) closeOverlay();
    });

    // Klick neben den Brief (auf dunklen Hintergrund) -> zurück zum Start
    letterOverlay.addEventListener("click", (e) => {
      if(e.target === letterOverlay) closeLetterToStart();
    });

    // Tastatursteuerung
    window.addEventListener("keydown", (e) => {
      // ESC schließt, je nachdem was offen ist
      if(e.key === "Escape"){
        if(letterOverlay.classList.contains("open")) closeLetterToStart();
        else if(overlay.classList.contains("open")) closeOverlay();
      }

      // Pfeiltasten nur im Foto-Overlay
      if(!overlay.classList.contains("open")) return;
      if(e.key === "ArrowLeft" && idx > 0) { idx -= 1; render(); }
      if(e.key === "ArrowRight" && idx < photos.length - 1) { idx += 1; render(); }
    });

    // Mehr Herzen (rot) — deutlich mehr als vorher
    const heartChars = ["❤","♥","❥"];
    const HEARTS = 36; // Anzahl
    for(let i=0;i<HEARTS;i++){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
      h.style.left = Math.random()*100 + "vw";
      h.style.animationDuration = (7 + Math.random()*8) + "s";
      h.style.animationDelay = (-Math.random()*10) + "s";
      h.style.fontSize = (14 + Math.random()*22) + "px";
      h.style.opacity = (0.35 + Math.random()*0.5).toFixed(2);
      document.body.appendChild(h);
    }
  </script>
</body>
</html>